import{r as i,c as g,w as P,x as R,j as l,q as f,y as E}from"./index-fc391d71.js";const w=4,o={topRight:"translate(0px, -100%)",topLeft:"translate(-100%, -100%)",bottomLeft:"translate(-100%, 0px)",bottomRight:""};function M(a,r){const t=i.useRef(null);function c(e){const{top:n,left:u,width:p,height:y}=e.getBoundingClientRect(),x=n+y>=document.documentElement.clientHeight,h=n<=0,b=u<=0,v=u+p>=document.documentElement.clientWidth;return x||h||b||v}function s(e){switch(e.style.getPropertyValue("transform")){case o.topRight:{e.style.setProperty("transform",o.topLeft);break}case o.topLeft:{e.style.setProperty("transform",o.bottomLeft);break}case o.bottomLeft:{e.style.setProperty("transform",o.bottomRight);break}default:e.style.setProperty("transform",o.topRight)}}return i.useEffect(()=>{const e=window.requestAnimationFrame(()=>{if(t.current){let n=0;for(;c(t.current);)if(n+=1,s(t.current),n>=w){t.current.style.removeProperty("transform");break}a()}});return()=>{window.cancelAnimationFrame(e)}},r),t}const m={container:"mo-contextMenu",root:"mo-contextMenu__root"};function d({onClick:a,onHide:r}){const t=g("contextMenu"),[c]=P("Escape"),s=M(()=>{var e;(e=s.current)==null||e.style.setProperty("opacity","1")},[t.visible]);return t.visible?(c&&t.visible&&(r==null||r()),R.createPortal(l.jsx(f,{className:m.container,onClick:()=>r==null?void 0:r(),onContextMenu:()=>r==null?void 0:r(),children:l.jsx(f,{ref:s,className:m.root,style:{top:t.position.y,left:t.position.x},children:l.jsx(E,{data:t.data,onClick:a})})}),document.body)):null}export{d as default};
